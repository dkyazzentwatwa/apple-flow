# Comma-separated values are supported for these list fields.
apple_flow_allowed_senders=+15551234567
apple_flow_allowed_workspaces=/Users/yourname/code

# Optional overrides
apple_flow_default_workspace=/Users/yourname/code/my-project
apple_flow_poll_interval_seconds=2
apple_flow_approval_ttl_minutes=20
apple_flow_max_messages_per_minute=30
apple_flow_codex_app_server_cmd=codex app-server

# CLI connector settings (recommended - avoids state corruption)
# Note: setup scripts auto-detect binary paths (e.g. ~/.local/bin/claude)
apple_flow_use_codex_cli=true
apple_flow_codex_cli_command=codex
apple_flow_codex_cli_context_window=10
apple_flow_codex_cli_model=  # Optional: gpt-5.3-codex (empty = use codex default)

# Connector selection (overrides use_codex_cli when set)
# Options: "codex-cli" (default), "claude-cli", "codex-app-server" (deprecated)
# apple_flow_connector=codex-cli

# Claude CLI connector settings (used when apple_flow_connector=claude-cli)
# Note: setup scripts auto-detect the claude binary path at install time
# apple_flow_claude_cli_command=claude
# apple_flow_claude_cli_dangerously_skip_permissions=true
# apple_flow_claude_cli_context_window=10
# apple_flow_claude_cli_model=  # e.g. claude-sonnet-4-6, claude-opus-4-6
# apple_flow_claude_cli_tools=default,WebSearch
# apple_flow_claude_cli_allowed_tools=WebSearch

apple_flow_admin_host=127.0.0.1
apple_flow_admin_port=8787
apple_flow_messages_db_path=~/Library/Messages/chat.db
apple_flow_process_historical_on_first_start=false
apple_flow_notify_blocked_senders=false
apple_flow_notify_rate_limited_senders=false
apple_flow_only_poll_allowed_senders=true
# require_chat_prefix: set to true to require the relay: prefix on all messages (legacy mode).
# Default is false â€” natural language mode where users can type freely without a prefix.
# Migration: if upgrading and want the old behavior, set this to true.
apple_flow_require_chat_prefix=false
apple_flow_chat_prefix=relay:
apple_flow_suppress_duplicate_outbound_seconds=90
apple_flow_send_startup_intro=true
apple_flow_codex_turn_timeout_seconds=300

# Apple Mail integration (email as additional ingress alongside iMessage)
# Set enable_mail_polling=true and configure mail_allowed_senders to start.
# Requires Apple Mail to be running and configured on this Mac.
apple_flow_enable_mail_polling=false
apple_flow_mail_poll_account=
apple_flow_mail_poll_mailbox=INBOX
apple_flow_mail_from_address=
apple_flow_mail_allowed_senders=
apple_flow_mail_max_age_days=2
apple_flow_mail_signature=\n\nâ€”\nApple Flow ðŸ¤–, Your 24/7 Assistant

# Apple Reminders integration (Reminders list as task queue alongside iMessage)
# New reminders in the designated list become tasks for Codex.
# Approval conversations happen via iMessage; results are written back to the reminder.
# Requires Reminders.app running on this Mac.
apple_flow_enable_reminders_polling=false
apple_flow_reminders_list_name=agent-task
apple_flow_reminders_archive_list_name=Archive
apple_flow_reminders_owner=
apple_flow_reminders_auto_approve=false
apple_flow_reminders_poll_interval_seconds=5

# Multi-workspace routing (@alias syntax in commands)
# JSON dict mapping alias names to absolute workspace paths.
# Example: task: @web-app deploy to staging
apple_flow_workspace_aliases={"web-app":"/Users/yourname/Projects/web-app","api":"/Users/yourname/Projects/api"}

# AI personality prompt â€” system context injected for all chat turns.
# Override to customize the assistant's tone and behavior.
# Use {workspace} as a placeholder for the default_workspace path.
# apple_flow_personality_prompt=You are a pirate. Arr.

# Conversation memory: auto-inject recent messages into prompts for context continuity.
# Reads from persistent SQLite â€” survives daemon restarts. Set to 0 to disable.
apple_flow_auto_context_messages=10

# Apple Tools context injection â€” tells the AI about apple-flow tools (Notes, Mail, Reminders, Calendar, iMessage).
# Set to false to disable TOOLS_CONTEXT from being prepended to AI prompts.
# apple_flow_inject_tools_context=true

# Global trigger tag â€” items without this tag are silently skipped across all channels
# (Reminders, Mail, Notes, Calendar). Empty string = disabled (process everything).
apple_flow_trigger_tag=!!agent

# Apple Notes integration (Notes folder as long-form task workspace)
# Notes in the designated folder become tasks for Codex.
# Only notes containing the trigger tag will be processed (prevents auto-save issues).
# Results are appended back to the note body.
# After approval, completed notes are moved to the archive subfolder.
# Requires Notes.app running on this Mac.
apple_flow_enable_notes_polling=false
apple_flow_notes_folder_name=agent-task
apple_flow_notes_archive_folder_name=agent-archive
apple_flow_notes_owner=
apple_flow_notes_auto_approve=false
apple_flow_notes_poll_interval_seconds=10
apple_flow_notes_fetch_timeout_seconds=20
apple_flow_notes_fetch_retries=1
apple_flow_notes_fetch_retry_delay_seconds=1.5

# Apple Notes Logging â€” create a new note per AI completion for easy review
# Works independently of notes polling (enable_notes_polling).
apple_flow_enable_notes_logging=false
apple_flow_notes_log_folder_name=agent-logs

# Apple Calendar integration (calendar events as scheduled tasks)
# Events in the designated calendar whose start time arrives become tasks.
# Results are written into the event description/notes.
# Requires Calendar.app running on this Mac.
apple_flow_enable_calendar_polling=false
apple_flow_calendar_name=agent-schedule
apple_flow_calendar_owner=
apple_flow_calendar_auto_approve=false
apple_flow_calendar_poll_interval_seconds=30
apple_flow_calendar_lookahead_minutes=5

# Progress streaming for long tasks
# Sends periodic progress updates via iMessage during task execution.
apple_flow_enable_progress_streaming=false
apple_flow_progress_update_interval_seconds=30

# File attachment support
# Enables reading inbound file attachments and including them in prompts.
apple_flow_enable_attachments=false
apple_flow_max_attachment_size_mb=10
apple_flow_attachment_temp_dir=/tmp/apple_flow_attachments
